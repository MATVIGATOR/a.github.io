<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¹›ë‚˜ì˜ ì¤‘í•™êµ ì‹ ë¬¸ì‚¬ì„¤ ê²€ìƒ‰</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Noto+Sans+KR:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb;
            --secondary: #4f46e5;
            --accent: #f59e0b;
            --bg-grad: linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 100%);
            --glass-bg: rgba(255, 255, 255, 0.85);
            --glass-border: rgba(255, 255, 255, 0.5);
            --text-main: #1f2937;
            --text-sub: #4b5563;
            --card-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: var(--bg-grad);
            color: var(--text-main);
            min-height: 100vh;
            padding: 2rem;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 3rem;
            animation: fadeInDown 0.8s ease-out;
        }

        h1 {
            font-family: 'Gowun Dodum', serif;
            font-size: 3rem;
            color: var(--primary);
            text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.05);
            margin-bottom: 0.5rem;
        }

        p.subtitle {
            color: var(--text-sub);
            font-size: 1.1rem;
        }

        /* Dashboard Grid */
        .search-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .search-card {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 1.5rem;
            padding: 1.5rem;
            box-shadow: var(--card-shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .search-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .search-card.full-width {
            grid-column: 1 / -1;
            background: linear-gradient(135deg, #ffffff 0%, #f3f4f6 100%);
            border: 2px solid var(--primary);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--secondary);
        }

        .card-header i {
            margin-right: 0.5rem;
            font-size: 1.4rem;
        }

        .input-group {
            position: relative;
            display: flex;
            gap: 0.5rem;
        }

        input[type="text"] {
            width: 100%;
            padding: 0.8rem 1rem;
            border-radius: 0.8rem;
            border: 1px solid #d1d5db;
            font-family: inherit;
            font-size: 1rem;
            transition: border-color 0.2s;
            outline: none;
        }

        input[type="text"]:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        button.search-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 0.8rem;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.2s;
            white-space: nowrap;
        }

        button.search-btn:hover {
            background: var(--secondary);
        }

        .reset-btn {
            display: block;
            margin: 2rem auto;
            background: #ef4444;
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 2rem;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.2s;
        }

        .reset-btn:hover {
            transform: scale(1.05);
        }

        /* Results Area */
        .results-area {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
        }

        .editorial-card {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            border-left: 5px solid transparent;
        }

        .editorial-card:hover {
            transform: scale(1.02);
            border-left-color: var(--accent);
        }

        .editorial-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--text-main);
        }

        .editorial-meta {
            font-size: 0.9rem;
            color: var(--text-sub);
            margin-bottom: 1rem;
            display: flex;
            gap: 1rem;
        }

        .editorial-preview {
            background: #f9fafb;
            padding: 1rem;
            border-radius: 0.5rem;
            font-size: 0.95rem;
            color: #374151;
        }

        .highlight {
            background-color: #fef08a;
            padding: 0 2px;
            border-radius: 2px;
            font-weight: bold;
        }

        /* Modal/Details */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .modal-overlay.open {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background: white;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            border-radius: 1.5rem;
            padding: 2.5rem;
            position: relative;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            animation: modalPop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes modalPop {
            from {
                transform: scale(0.8);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .close-modal {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: var(--text-sub);
        }

        .detail-section {
            margin-bottom: 1.5rem;
        }

        .detail-label {
            font-weight: 700;
            color: var(--primary);
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
        }

        .detail-text {
            font-size: 1.05rem;
            line-height: 1.7;
            color: #374151;
            background: #f8fafc;
            padding: 1rem;
            border-radius: 0.8rem;
        }

        /* Chips for Structure Search */
        .color-dot {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 5px;
        }
    </style>
</head>

<body>

    <div class="container">
        <header>
            <h1>ğŸ“° ë¹›ë‚˜ì˜ ì¤‘í•™êµ ì‹ ë¬¸ì‚¬ì„¤ ê²€ìƒ‰</h1>
            <p class="subtitle">ì„¸ìƒì„ ë³´ëŠ” ëˆˆ, ë‹¤ì–‘í•œ ì‹œê°ì„ ì°¾ì•„ë³´ì„¸ìš”</p>
        </header>

        <div class="search-dashboard">
            <!-- 1. General Search -->
            <div class="search-card full-width">
                <div class="card-header">
                    <span style="font-size:1.5rem">ğŸ”</span> í†µí•© ê²€ìƒ‰ (ì œëª© + ì „ì²´ ë‚´ìš©)
                </div>
                <div class="input-group">
                    <input type="text" id="search-all" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: í™˜ê²½, AI)..."
                        onkeyup="handleSearch('all', this.value)">
                    <button class="search-btn" onclick="triggerSearch('all')">ê²€ìƒ‰</button>
                </div>
            </div>

            <!-- 2. Author Search -->
            <div class="search-card">
                <div class="card-header">
                    <span style="font-size:1.2rem">âœï¸</span> ì‘ì„±ìë¡œ ê²€ìƒ‰
                </div>
                <div class="input-group">
                    <input type="text" id="search-author" placeholder="ê¸°ì/ë…¼ì„¤ìœ„ì› ì´ë¦„..."
                        onkeyup="handleSearch('author', this.value)">
                </div>
            </div>

            <!-- 3. Structure - Background -->
            <div class="search-card">
                <div class="card-header">
                    <span style="font-size:1.2rem; color:#e11d48;">ğŸ“Œ</span> ë°°ê²½(Background) ê²€ìƒ‰
                </div>
                <div class="input-group">
                    <input type="text" id="search-background" placeholder="ë°°ê²½ ê´€ë ¨ ë‹¨ì–´..."
                        onkeyup="handleSearch('background', this.value)">
                </div>
            </div>

            <!-- 4. Structure - Evidence -->
            <div class="search-card">
                <div class="card-header">
                    <span style="font-size:1.2rem; color:#059669;">ğŸ“Š</span> ì—ë¹„ë˜ìŠ¤(Evidence) ê²€ìƒ‰
                </div>
                <div class="input-group">
                    <input type="text" id="search-evidence" placeholder="í†µê³„, ê·¼ê±° í‚¤ì›Œë“œ..."
                        onkeyup="handleSearch('evidence', this.value)">
                </div>
            </div>

            <!-- 5. Structure - Fact -->
            <div class="search-card">
                <div class="card-header">
                    <span style="font-size:1.2rem; color:#7c3aed;">ğŸ“</span> íŒ©íŠ¸(Fact) ê²€ìƒ‰
                </div>
                <div class="input-group">
                    <input type="text" id="search-fact" placeholder="ì‚¬ì‹¤ ê´€ê³„ í™•ì¸..."
                        onkeyup="handleSearch('fact', this.value)">
                </div>
            </div>
        </div>

        <div style="text-align:center; display:none;">
            <button class="reset-btn" onclick="resetAll()">ğŸ”„ ì´ˆê¸°í™”</button>
        </div>

        <div id="results-count" style="margin-bottom: 1rem; font-weight:bold; color: var(--text-sub);"></div>
        <div id="results-area" class="results-area">
            <!-- Results will be injected here -->
        </div>
    </div>

    <!-- Details Modal -->
    <div class="modal-overlay" id="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal()">&times;</button>
            <h2 id="modal-title" style="margin-bottom:0.5rem; font-size:2rem; color:var(--primary);"></h2>
            <div id="modal-meta" style="color:var(--text-sub); margin-bottom:2rem; font-style:italic;"></div>

            <div class="detail-section">
                <div class="detail-label" style="color:#e11d48;">ë°°ê²½ (Background)</div>
                <div class="detail-text" id="modal-background"></div>
            </div>
            <div class="detail-section">
                <div class="detail-label" style="color:#059669;">ì¦ê±° (Evidence)</div>
                <div class="detail-text" id="modal-evidence"></div>
            </div>
            <div class="detail-section">
                <div class="detail-label" style="color:#2563eb;">ì£¼ì¥ (Argument)</div>
                <div class="detail-text" id="modal-argument"></div>
            </div>
            <div class="detail-section">
                <div class="detail-label" style="color:#7c3aed;">ì‚¬ì‹¤ (Fact)</div>
                <div class="detail-text" id="modal-fact"></div>
            </div>
        </div>
    </div>

    <!-- Data Island -->
    <script id="xml-data" type="text/xml">
<?xml version="1.0" encoding="UTF-8"?>
<editorials xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="editorial.xsd">
  <editorial id="sample-1">
    <title><![CDATA[ë””ì§€í„¸ êµìœ¡ ê²©ì°¨, ê³µêµìœ¡ì´ ë‚˜ì„œì•¼ í•œë‹¤]]></title>
    <author>ê¹€í•œê¸€ ë…¼ì„¤ìœ„ì›</author>
    <date>2024-01-10</date>
    <structure>
      <background><![CDATA[ìµœê·¼ ì „êµ­ ì´ˆì¤‘ê³ êµì˜ ë””ì§€í„¸ ê¸°ê¸° ë³´ê¸‰ë¥ ì´ ê¸‰ì¦í•˜ê³  ìˆìœ¼ë‚˜, í™œìš© ëŠ¥ë ¥ì˜ ê²©ì°¨ëŠ” ì—¬ì „íˆ ì‹¬ê°í•˜ë‹¤.]]></background>
      <evidence><![CDATA[êµìœ¡ë¶€ í†µê³„ì— ë”°ë¥´ë©´ ìˆ˜ë„ê¶Œê³¼ ì§€ë°© í•™ìƒ ê°„ì˜ ë””ì§€í„¸ ë¦¬í„°ëŸ¬ì‹œ ì ìˆ˜ ì°¨ì´ê°€ 20% ì´ìƒ ë²Œì–´ì¡Œë‹¤.]]></evidence>
      <argument><![CDATA[ì •ë¶€ëŠ” ê¸°ê¸° ë³´ê¸‰ì„ ë„˜ì–´ ì‹¤ì§ˆì ì¸ ë””ì§€í„¸ í™œìš© êµìœ¡ í”„ë¡œê·¸ë¨ì„ ì˜ë¬´í™”í•´ì•¼ í•œë‹¤.]]></argument>
      <fact><![CDATA[í˜„ì¬ ë””ì§€í„¸ êµìœ¡ ì‹œìˆ˜ëŠ” OECD í‰ê· ì˜ ì ˆë°˜ ìˆ˜ì¤€ì¸ ì£¼ë‹¹ 1ì‹œê°„ì— ë¶ˆê³¼í•˜ë‹¤.]]></fact>
    </structure>
  </editorial>
  <editorial id="sample-2">
    <title><![CDATA[ê¸°í›„ ìœ„ê¸° ëŒ€ì‘, ê¸°ì—…ì˜ ì±…ì„ ê°•í™”í•´ì•¼]]></title>
    <author>ì´ì´ˆë¡ ì „ë¬¸ê¸°ì</author>
    <date>2024-01-11</date>
    <structure>
      <background><![CDATA[ì „ ì§€êµ¬ì ì¸ ì´ìƒ ê¸°í›„ í˜„ìƒìœ¼ë¡œ ì¸í•œ ê²½ì œì  í”¼í•´ê°€ ë§¤ë…„ ìµœê³ ì¹˜ë¥¼ ê²½ì‹ í•˜ê³  ìˆë‹¤.]]></background>
      <evidence><![CDATA[íƒ„ì†Œ ë°°ì¶œ ìƒìœ„ 10ê°œ ê¸°ì—…ì´ ì „ì²´ ë°°ì¶œëŸ‰ì˜ 40%ë¥¼ ì°¨ì§€í•œë‹¤ëŠ” í™˜ê²½ë‹¨ì²´ ë³´ê³ ì„œê°€ ë°œí‘œë˜ì—ˆë‹¤.]]></evidence>
      <argument><![CDATA[ê¸°ì—…ì˜ ESG ê²½ì˜ì„ ë‹¨ìˆœ ê¶Œê³ ê°€ ì•„ë‹Œ ë²•ì  ì˜ë¬´ ì‚¬í•­ìœ¼ë¡œ ê°•í™”í•´ì•¼ë§Œ ì‹¤íš¨ì„±ì„ ê±°ë‘˜ ìˆ˜ ìˆë‹¤.]]></argument>
      <fact><![CDATA[ìœ ëŸ½ì—°í•©ì€ ì´ë¯¸ ê³µê¸‰ë§ ì‹¤ì‚¬ë²•ì„ í†µí•´ ê¸°ì—…ì˜ í™˜ê²½ ì±…ì„ì„ ë²•ì œí™”í–ˆë‹¤.]]></fact>
    </structure>
  </editorial>
  <editorial id="sample-3">
    <title><![CDATA[ì €ì¶œì‚° ëŒ€ì±…, í˜„ê¸ˆ ì‚´í¬ë³´ë‹¤ ìœ¡ì•„ í™˜ê²½ ê°œì„ ì„]]></title>
    <author>ë°•ë¯¸ë˜ ë…¼ì„¤ìœ„ì›</author>
    <date>2024-01-12</date>
    <structure>
      <background><![CDATA[í•©ê³„ì¶œì‚°ìœ¨ 0.7ëª…ëŒ€ê°€ ë¶•ê´´ë  ìœ„ê¸°ì— ì²˜í–ˆìœ¼ë‚˜, í˜„ê¸ˆì„± ì§€ì› ì •ì±…ì€ í•œê³„ë¥¼ ë“œëŸ¬ë‚´ê³  ìˆë‹¤.]]></background>
      <evidence><![CDATA[ì¶œì‚° ì¥ë ¤ê¸ˆì„ ëŠ˜ë¦° ì§€ìì²´ì—ì„œë„ ì¶œì‚°ìœ¨ ë°˜ë“± íš¨ê³¼ëŠ” ë¯¸ë¯¸í–ˆë‹¤ëŠ” ì—°êµ¬ ê²°ê³¼ê°€ ìˆë‹¤.]]></evidence>
      <argument><![CDATA[ìœ¡ì•„ íœ´ì§ì˜ ììœ ë¡œìš´ ì‚¬ìš©ê³¼ ê³µê³µ ë³´ìœ¡ ì‹œì„¤ í™•ì¶© ë“± 'ì•„ì´ í‚¤ìš°ê¸° ì¢‹ì€ í™˜ê²½'ì„ ë§Œë“œëŠ” ê²ƒì´ ìš°ì„ ì´ë‹¤.]]></argument>
      <fact><![CDATA[í•œêµ­ì˜ ë‚¨ì„± ìœ¡ì•„íœ´ì§ ì‚¬ìš©ë¥ ì€ ì œë„ëŠ” ì¡´ì¬í•˜ë‚˜ ì‹¤ì‚¬ìš©ë¥ ì€ 5% ë‚´ì™¸ë¡œ ì£¼ìš”êµ­ ì¤‘ ìµœí•˜ìœ„ê¶Œì´ë‹¤.]]></fact>
    </structure>
  </editorial>
  <editorial id="sample-4">
    <title><![CDATA[ì˜ëŒ€ ì •ì› í™•ëŒ€, ì§€ì—­ ì˜ë£Œ ë¶•ê´´ ë§‰ì„ ê³¨ë“ íƒ€ì„]]></title>
    <author>ìµœìƒëª… ì˜í•™ì „ë¬¸ê¸°ì</author>
    <date>2024-01-13</date>
    <structure>
      <background><![CDATA[ì§€ë°© ì˜ë£Œì›ì˜ ì˜ì‚¬ êµ¬ì¸ë‚œì´ ì‹¬í™”ë˜ë©´ì„œ ì‘ê¸‰ì‹¤ ëº‘ëº‘ì´ ë“± í•„ìˆ˜ ì˜ë£Œ ê³µë°± ì‚¬íƒœê°€ ì‡ë”°ë¥´ê³  ìˆë‹¤.]]></background>
      <evidence><![CDATA[ì§€ë°© êµ­ë¦½ëŒ€ë³‘ì›ì¡°ì°¨ ì „ê³µì˜ ì •ì›ì„ ì±„ìš°ì§€ ëª»í•´ ì§„ë£Œ ê³¼ëª©ì„ íì‡„í•˜ëŠ” ì‚¬ë¡€ê°€ ì†ì¶œí•˜ê³  ìˆë‹¤.]]></evidence>
      <argument><![CDATA[ì˜ëŒ€ ì •ì›ì„ ëŒ€í­ í™•ëŒ€í•˜ê³  ì§€ì—­ ì˜ì‚¬ì œë¥¼ ë„ì…í•˜ì—¬ ì˜ë£Œ ì¸ë ¥ì˜ ìˆ˜ë„ê¶Œ ì ë¦¼ í˜„ìƒì„ ë§‰ì•„ì•¼ í•œë‹¤.]]></argument>
      <fact><![CDATA[ìš°ë¦¬ë‚˜ë¼ ì˜ëŒ€ ì…í•™ ì •ì›ì€ 2006ë…„ ì´í›„ 18ë…„ ë™ì•ˆ ë™ê²°ëœ ìƒíƒœë‹¤.]]></fact>
    </structure>
  </editorial>
  <editorial id="sample-5">
    <title><![CDATA[ê°€ê³„ë¶€ì±„ ë‡Œê´€, ì„ ì œì  ê´€ë¦¬ í•„ìš”í•˜ë‹¤]]></title>
    <author>ì •ê²½ì œ ë…¼ì„¤ì‹¤ì¥</author>
    <date>2024-01-14</date>
    <structure>
      <background><![CDATA[ê³ ê¸ˆë¦¬ ê¸°ì¡°ê°€ ì¥ê¸°í™”ë˜ë©´ì„œ ì˜ëŒë¡œ ì§‘ì„ ì‚° 2030 ì„¸ëŒ€ì™€ ìì˜ì—…ìì˜ ì´ì ë¶€ë‹´ì´ í•œê³„ì— ë‹¤ë‹¤ëë‹¤.]]></background>
      <evidence><![CDATA[í•œêµ­ì€í–‰ ìë£Œì— ë”°ë¥´ë©´ ê°€ê³„ë¶€ì±„ ë¹„ìœ¨ì´ GDP ëŒ€ë¹„ 100%ë¥¼ ì´ˆê³¼í•˜ì—¬ ì„¸ê³„ ìµœê³  ìˆ˜ì¤€ì„ ê¸°ë¡í–ˆë‹¤.]]></evidence>
      <argument><![CDATA[ê¸ˆìœµ ë‹¹êµ­ì€ ëŒ€ì¶œ ë§Œê¸° ì—°ì¥ ë“± ë¯¸ë´‰ì±…ì´ ì•„ë‹Œ, ë¶€ì‹¤ ì±„ê¶Œ ì •ë¦¬ì™€ ì±„ë¬´ ì¡°ì • ë“± ê·¼ë³¸ì ì¸ ë””ë ˆë²„ë¦¬ì§• ì •ì±…ì„ í´ì•¼ í•œë‹¤.]]></argument>
      <fact><![CDATA[ì—°ì²´ìœ¨ì´ ì§€ë‚œ 1ë…„ ì‚¬ì´ 2ë°° ì´ìƒ ê¸‰ì¦í•˜ë©° ê¸ˆìœµê¶Œ ë¶€ì‹¤ ìš°ë ¤ê°€ ì»¤ì§€ê³  ìˆë‹¤.]]></fact>
    </structure>
  </editorial>
  <editorial id="sample-6">
    <title><![CDATA[ìš°ì£¼ í•­ê³µì²­ ì„¤ë¦½, ë¯¸ë˜ ì‚°ì—…ì˜ ë„ì•½ëŒ€]]></title>
    <author>ê°•ìš°ì£¼ ê³¼í•™ì „ë¬¸ê¸°ì</author>
    <date>2024-01-15</date>
    <structure>
      <background><![CDATA[ë‰´ìŠ¤í˜ì´ìŠ¤ ì‹œëŒ€ë¥¼ ë§ì•„ ì„¸ê³„ ê°êµ­ì´ ìš°ì£¼ ê°œë°œ ê²½ìŸì— ë›°ì–´ë“¤ê³  ìˆìœ¼ë‚˜, í•œêµ­ì€ ì»¨íŠ¸ë¡¤ íƒ€ì›Œ ë¶€ì¬ë¡œ ë’¤ì²˜ì§€ê³  ìˆë‹¤.]]></background>
      <evidence><![CDATA[ë¯¸êµ­ NASA, ì¼ë³¸ JAXA ë“± ì£¼ìš”êµ­ì€ ì „ë‹´ ê¸°êµ¬ë¥¼ í†µí•´ ë¯¼ê°„ ìš°ì£¼ ì‚°ì—…ì„ ì£¼ë„í•˜ê³  ìˆë‹¤.]]></evidence>
      <argument><![CDATA[ìš°ì£¼í•­ê³µì²­ ì„¤ë¦½ë²•ì„ ì¡°ì†íˆ í†µê³¼ì‹œì¼œ ì²´ê³„ì ì¸ ìš°ì£¼ ê°œë°œ ë¡œë“œë§µì„ ìˆ˜ë¦½í•˜ê³  ë¯¼ê°„ ê¸°ì—…ì„ ìœ¡ì„±í•´ì•¼ í•œë‹¤.]]></argument>
      <fact><![CDATA[í•œêµ­ì˜ ìš°ì£¼ ì˜ˆì‚° ê·œëª¨ëŠ” ë¯¸êµ­ì˜ 100ë¶„ì˜ 1 ìˆ˜ì¤€ì— ë¶ˆê³¼í•˜ë‹¤.]]></fact>
    </structure>
  </editorial>
  <editorial id="sample-7">
    <title><![CDATA[ë…¸ì¸ ë¹ˆê³¤ìœ¨ OECD 1ìœ„, ì—°ê¸ˆ ê°œí˜ ì„œë‘˜ëŸ¬ì•¼]]></title>
    <author>ì˜¤ë³µì§€ ë…¼ì„¤ìœ„ì›</author>
    <date>2024-01-16</date>
    <structure>
      <background><![CDATA[ê¸‰ê²©í•œ ê³ ë ¹í™” ì†ì— ë…¸ì¸ ë¹ˆê³¤ ë¬¸ì œê°€ ì‹¬ê°í•œ ì‚¬íšŒ ë¬¸ì œë¡œ ëŒ€ë‘ë˜ê³  ìˆìœ¼ë‚˜ êµ­ë¯¼ì—°ê¸ˆ ê°œí˜ì€ ì§€ì§€ë¶€ì§„í•˜ë‹¤.]]></background>
      <evidence><![CDATA[í†µê³„ì²­ ì¡°ì‚¬ ê²°ê³¼ 65ì„¸ ì´ìƒ ë…¸ì¸ì˜ ìƒëŒ€ì  ë¹ˆê³¤ìœ¨ì€ 40%ì— ìœ¡ë°•í•´ OECD í‰ê· ì˜ 3ë°°ì— ë‹¬í•œë‹¤.]]></evidence>
      <argument><![CDATA[ë³´í—˜ë£Œìœ¨ ì¸ìƒê³¼ ì†Œë“ ëŒ€ì²´ìœ¨ ì¡°ì •ì„ í¬í•¨í•œ ì‚¬íšŒì  ëŒ€íƒ€í˜‘ì„ í†µí•´ ì—°ê¸ˆì˜ ì§€ì† ê°€ëŠ¥ì„±ì„ í™•ë³´í•´ì•¼ í•œë‹¤.]]></argument>
      <fact><![CDATA[êµ­ë¯¼ì—°ê¸ˆ ê³ ê°ˆ ì‹œì ì´ ë‹¹ì´ˆ ì˜ˆìƒë³´ë‹¤ 2ë…„ ì•ë‹¹ê²¨ì§„ 2055ë…„ìœ¼ë¡œ ì „ë§ë˜ì—ˆë‹¤.]]></fact>
    </structure>
  </editorial>
  <editorial id="sample-8">
    <title><![CDATA[ì „ì„¸ ì‚¬ê¸° íŠ¹ë³„ë²•, í”¼í•´ êµ¬ì œ ì‹¤íš¨ì„± ë†’ì—¬ì•¼]]></title>
    <author>ì†¡ì£¼íƒ ë¶€ë™ì‚°íŒ€ì¥</author>
    <date>2024-01-17</date>
    <structure>
      <background><![CDATA[ë¹Œë¼ì™• ì‚¬íƒœ ë“± ì „ì„¸ ì‚¬ê¸°ê°€ ì „êµ­ì ìœ¼ë¡œ í™•ì‚°ë˜ë©° ìˆ˜ë§ì€ ì„¸ì…ìë“¤ì´ ë³´ì¦ê¸ˆì„ ë–¼ì¼ ìœ„ê¸°ì— ì²˜í–ˆë‹¤.]]></background>
      <evidence><![CDATA[íŠ¹ë³„ë²• ì‹œí–‰ ì´í›„ì—ë„ í”¼í•´ì ì¸ì • ìš”ê±´ì´ ê¹Œë‹¤ë¡œì›Œ ì‹¤ì œ êµ¬ì œë°›ì€ ì‚¬ë¡€ëŠ” ì „ì²´ í”¼í•´ìì˜ 20% ë¯¸ë§Œì´ë‹¤.]]></evidence>
      <argument><![CDATA[í”¼í•´ì ì¸ì • ë²”ìœ„ë¥¼ í™•ëŒ€í•˜ê³ , ì„ êµ¬ì œ í›„íšŒìˆ˜ ë°©ì•ˆì„ ë„ì…í•˜ì—¬ í”¼í•´ìë“¤ì˜ ì£¼ê±° ì•ˆì •ì„ ë³´ì¥í•´ì•¼ í•œë‹¤.]]></argument>
      <fact><![CDATA[ì „ì„¸ ì‚¬ê¸° í”¼í•´ìì˜ 70%ê°€ ì‚¬íšŒ ì´ˆë…„ìƒì¸ 2030 ì„¸ëŒ€ì´ë‹¤.]]></fact>
    </structure>
  </editorial>
  <editorial id="sample-9">
    <title><![CDATA[K-ì½˜í…ì¸  ë¶ˆë²• ìœ í†µ, ì €ì‘ê¶Œ ë³´í˜¸ ì‹œìŠ¤í…œ ì •ë¹„ ì‹œê¸‰]]></title>
    <author>ë¬¸í™”ì˜ ë¬¸í™”ë¶€ì¥</author>
    <date>2024-01-18</date>
    <structure>
      <background><![CDATA[í•œêµ­ì˜ ì˜í™”, ë“œë¼ë§ˆ ë“± K-ì½˜í…ì¸ ê°€ ì„¸ê³„ì ì¸ ì¸ê¸°ë¥¼ ì–»ê³  ìˆìœ¼ë‚˜, ë¶ˆë²• ìŠ¤íŠ¸ë¦¬ë° ì‚¬ì´íŠ¸ë¡œ ì¸í•œ í”¼í•´ë„ ê¸‰ì¦í•˜ê³  ìˆë‹¤.]]></background>
      <evidence><![CDATA[ì—…ê³„ ì¶”ì‚°ì— ë”°ë¥´ë©´ 'ëˆ„ëˆ„í‹°ë¹„' ë“± ë¶ˆë²• ì‚¬ì´íŠ¸ë¡œ ì¸í•œ ì €ì‘ê¶Œ í”¼í•´ì•¡ì´ ì—°ê°„ 5ì¡° ì›ì— ì´ë¥¸ë‹¤.]]></evidence>
      <argument><![CDATA[êµ­ì œ ê³µì¡° ìˆ˜ì‚¬ë¥¼ ê°•í™”í•˜ê³ , ë¶ˆë²• ì‚¬ì´íŠ¸ ì°¨ë‹¨ ê¸°ìˆ ì„ ê³ ë„í™”í•˜ì—¬ ì°½ì‘ìë“¤ì˜ ê¶Œë¦¬ë¥¼ ë³´í˜¸í•´ì•¼ í•œë‹¤.]]></argument>
      <fact><![CDATA[ë¶ˆë²• ì‚¬ì´íŠ¸ ìš´ì˜ ì„œë²„ì˜ ëŒ€ë¶€ë¶„ì´ í•´ì™¸ì— ìˆì–´ êµ­ë‚´ë²•ë§Œìœ¼ë¡œëŠ” ì²˜ë²Œì´ ì–´ë ¤ìš´ ì‹¤ì •ì´ë‹¤.]]></fact>
    </structure>
  </editorial>
  <editorial id="sample-10">
    <title><![CDATA[ë°˜ë„ì²´ ì „ìŸ, ì´ˆê²©ì°¨ ê¸°ìˆ  í™•ë³´ê°€ ìƒì¡´ ì „ëµ]]></title>
    <author>ë°˜ë„ì²´ ì‚°ì—…ë¶€</author>
    <date>2024-01-19</date>
    <structure>
      <background><![CDATA[ë¯¸ì¤‘ íŒ¨ê¶Œ ê²½ìŸ ì‹¬í™”ë¡œ ê¸€ë¡œë²Œ ë°˜ë„ì²´ ê³µê¸‰ë§ì´ ì¬í¸ë˜ë©´ì„œ í•œêµ­ ë°˜ë„ì²´ ì‚°ì—…ì´ ìƒŒë“œìœ„ì¹˜ ìœ„ê¸°ì— ì²˜í–ˆë‹¤.]]></background>
      <evidence><![CDATA[ê²½ìŸêµ­ë“¤ì€ ì²œë¬¸í•™ì ì¸ ë³´ì¡°ê¸ˆì„ ì§€ê¸‰í•˜ë©° ìêµ­ ë°˜ë„ì²´ ìƒíƒœê³„ë¥¼ ìœ¡ì„±í•˜ê³  ìˆë‹¤.]]></evidence>
      <argument><![CDATA[ì„¸ì œ í˜œíƒ í™•ëŒ€ì™€ ì¸í”„ë¼ ì§€ì›ì„ í†µí•´ ê¸°ì—…ì˜ R&D íˆ¬ìë¥¼ ìœ ë„í•˜ê³  ì´ˆê²©ì°¨ ê¸°ìˆ  ê²½ìŸë ¥ì„ í™•ë³´í•´ì•¼ í•œë‹¤.]]></argument>
      <fact><![CDATA[ë©”ëª¨ë¦¬ ë°˜ë„ì²´ ë¶„ì•¼ì—ì„œ ê²½ìŸêµ­ê³¼ì˜ ê¸°ìˆ  ê²©ì°¨ê°€ 1ë…„ ì´ë‚´ë¡œ ì¢í˜€ì¡Œë‹¤ëŠ” ë¶„ì„ì´ ë‚˜ì™”ë‹¤.]]></fact>
    </structure>
  </editorial>
</editorials>
</script>

    <script>
        // 1. Data Parsing
        let editorials = [];

        document.addEventListener('DOMContentLoaded', () => {
            const parser = new DOMParser();
            const xmlString = document.getElementById('xml-data').textContent;
            const xmlDoc = parser.parseFromString(xmlString, 'text/xml');

            const items = xmlDoc.getElementsByTagName('editorial');

            for (let item of items) {
                const getVal = (tag) => {
                    const node = item.getElementsByTagName(tag)[0];
                    return node ? node.textContent.trim() : '';
                }

                // Structure handling
                const structure = item.getElementsByTagName('structure')[0];
                const getStrVal = (tag) => {
                    if (!structure) return '';
                    const node = structure.getElementsByTagName(tag)[0];
                    return node ? node.textContent.trim() : '';
                }

                editorials.push({
                    id: item.getAttribute('id'),
                    title: getVal('title'),
                    author: getVal('author'),
                    date: getVal('date'),
                    background: getStrVal('background'),
                    evidence: getStrVal('evidence'),
                    argument: getStrVal('argument'),
                    fact: getStrVal('fact')
                });
            }

            // Initial render: show all
            renderResults(editorials);
        });

        // 2. Search Logic
        let currentFilters = {
            all: '',
            author: '',
            background: '',
            evidence: '',
            fact: ''
        };

        function handleSearch(type, value) {
            currentFilters[type] = value.toLowerCase();
            filterAndRender();

            // Visual feedback on inputs
            const inputs = ['all', 'author', 'background', 'evidence', 'fact'];
            inputs.forEach(id => {
                const el = document.getElementById('search-' + id);
                if (currentFilters[id]) {
                    el.parentElement.parentElement.style.borderColor = 'var(--primary)';
                    el.parentElement.parentElement.style.backgroundColor = '#fff';
                } else {
                    el.parentElement.parentElement.style.borderColor = type === 'all' ? 'var(--primary)' : 'var(--glass-border)';
                    el.parentElement.parentElement.style.backgroundColor = type === 'all' ? 'linear-gradient(135deg, #ffffff 0%, #f3f4f6 100%)' : 'var(--glass-bg)';
                }
            });
        }

        // Helper to highlight text
        function highlightText(text, query) {
            if (!query) return text;
            const regex = new RegExp(`(${query})`, 'gi');
            return text.replace(regex, '<span class="highlight">$1</span>');
        }

        function filterAndRender() {
            const allQ = currentFilters.all;
            const authorQ = currentFilters.author;
            const backQ = currentFilters.background;
            const evQ = currentFilters.evidence;
            const factQ = currentFilters.fact;

            // Start with all
            let results = editorials.filter(item => {
                // All Search (OR logic across fields)
                let matchesAll = true;
                if (allQ) {
                    const combined = (item.title + item.author + item.background + item.evidence + item.argument + item.fact).toLowerCase();
                    matchesAll = combined.includes(allQ);
                }

                // Specific Searches (AND logic between different filters)
                const matchesAuthor = !authorQ || item.author.toLowerCase().includes(authorQ);
                const matchesBack = !backQ || item.background.toLowerCase().includes(backQ);
                const matchesEv = !evQ || item.evidence.toLowerCase().includes(evQ);
                const matchesFact = !factQ || item.fact.toLowerCase().includes(factQ);

                return matchesAll && matchesAuthor && matchesBack && matchesEv && matchesFact;
            });

            renderResults(results);
        }

        function renderResults(results) {
            const container = document.getElementById('results-area');
            const countDiv = document.getElementById('results-count');

            container.innerHTML = '';
            countDiv.textContent = `ê²€ìƒ‰ ê²°ê³¼: ${results.length}ê±´`;

            if (results.length === 0) {
                container.innerHTML = `<div style="grid-column:1/-1; text-align:center; padding:3rem; color:var(--text-sub);">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>`;
                return;
            }

            results.forEach(item => {
                const card = document.createElement('div');
                card.className = 'editorial-card';

                // Highlight preview text based on active filters
                let previewText = item.background; // Default preview
                if (currentFilters.evidence) previewText = item.evidence;
                if (currentFilters.fact) previewText = item.fact;
                if (currentFilters.all) {
                    // Find where the match is for 'all' search to show relevant snippet?
                    // For now, simplfy: show title and a snippet of background
                }

                // Highlight in title
                const titleHtml = highlightText(item.title, currentFilters.all);

                card.innerHTML = `
                <div class="editorial-title">${titleHtml}</div>
                <div class="editorial-meta">
                    <span style="color:var(--primary)"><i class="icon">âœï¸</i> ${highlightText(item.author, currentFilters.author)}</span>
                    <span>ğŸ—“ ${item.date}</span>
                </div>
                <div class="editorial-preview">
                    ${highlightText(previewText.substring(0, 100) + '...', currentFilters.all || currentFilters.background || currentFilters.evidence || currentFilters.fact)}
                </div>
                <div style="margin-top:1rem; font-size:0.8rem; color:#9ca3af; text-align:right;">í´ë¦­í•˜ì—¬ ìì„¸íˆ ë³´ê¸°</div>
            `;

                card.onclick = () => openModal(item);
                container.appendChild(card);
            });
        }

        // Modal Functions
        const modal = document.getElementById('modal');

        function openModal(item) {
            document.getElementById('modal-title').textContent = item.title;
            document.getElementById('modal-meta').textContent = `${item.author} | ${item.date}`;

            const setHighlight = (id, text, query) => {
                document.getElementById(id).innerHTML = highlightText(text, query);
            };

            // Combine queries for highlighting... or just use specific ones
            // If 'all' is used, highlight everywhere. Specific filters highlight specific fields.
            const allQ = currentFilters.all;

            setHighlight('modal-background', item.background, allQ || currentFilters.background);
            setHighlight('modal-evidence', item.evidence, allQ || currentFilters.evidence);
            setHighlight('modal-argument', item.argument, allQ);
            setHighlight('modal-fact', item.fact, allQ || currentFilters.fact);

            modal.classList.add('open');
        }

        function closeModal() {
            modal.classList.remove('open');
        }

        // Close on outside click
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });

        function triggerSearch(type) {
            // Just for the button visual, functionality is already via onkeyup
            // But if user hits enter/button, maybe scroll to results?
            const resultsArea = document.getElementById('results-area');
            resultsArea.scrollIntoView({ behavior: 'smooth' });
        }

        function resetAll() {
            ['search-all', 'search-author', 'search-background', 'search-evidence', 'search-fact'].forEach(id => {
                document.getElementById(id).value = '';
            });
            currentFilters = { all: '', author: '', background: '', evidence: '', fact: '' };
            renderResults(editorials);
            handleSearch('all', ''); // Reset styles
        }

    </script>
</body>

</html>